<!DOCTYPE html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="keywords" content="code" />
<meta name="description" content="code" />
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no" />
<link rel="stylesheet" type="text/css" href="/inc/weui.min.css">
<title>code</title>
<style>
    html, body, h1, h2, h3, h4, h5, h6, hr, p, ul, li, form, button, input, textarea, th, td, div,dl,dt,dd {
        margin: 0;
        padding: 0;
        border: 0;
        box-sizing: border-box;
    }
    .pic_code {
        display: none;
    }

</style>
</head>
<body>
    <!-- <div id="pic_code_mask">
    </div> -->
    <input class="show" type="button" value="按钮"/>
    <div class="pic_code">
        <!-- <div class="pic_bao">
            <div class="pic"><img src="/img/1.jpg" alt="图片" /></div>
            <div class="pic_loading"><img src="/img/pic_loading.gif" alt="图片" /></div>
        </div>
        <div class="refresh">点击刷新验证码</div>
        <div class="line_bao">
            <div class="line"></div>
            <div class="circle"></div>
        </div>
        <div class="success">验证成功</div>
        <div class="pic_code_mask"></div>
        <div class="pic_code_content">×</div> -->
    </div>

    <!-- loading -->
    <!-- <div id="loadingToast" style="display:none;">
        <div class="weui-mask_transparent"></div>
        <div class="weui-toast">
            <i class="weui-loading weui-icon_toast"></i>
            <p class="weui-toast__content" style="color:#fff;">数据处理中</p>
        </div>
    </div> -->
</body>
<script type="text/javascript" src="/inc/jquery.min.js"></script>
<script type="text/javascript" src="/jq/pic_code.js"></script>
<script type="text/javascript">
    $(function(){
        var opt = {
            pic_position: ".pic_code",//图片验证码外包层class或id，默认.pic_code
            div_width: 300,//设置显示的大图的宽，默认300
            valid_range: 5, // 图片验证正确的容错范围，默认是5,单位是px，不受unit影响
            unit: "px", // 宽高及容错范围单位 "px|vw", 默认px，且IE6/7/8强制使用px
            pic_mask: true,  //验证码大遮罩层，false-不显示遮罩层，true-显示遮罩层，默认true
            Pic_mask_color: "#000", //验证码大遮罩层颜色，默认黑色
            Pic_mask_opacity: 0.8, ////验证码大遮罩层透明度，默认0.8
            Pic_click_key: true, //开关，点击遮罩层验证码是否隐藏，true-隐藏，false-不隐藏，默认true
            Is_Cross_domain: false,//是否跨域 true-跨域（后端需配置跨域允许当前来源），false-不跨域，默认false
            Url_getPic: '/Pic_code/Pic_code.ashx', //获取图片地址的接口，跨域请填写带域名的地址，默认'/Pic_code/Pic_code.ashx'
            url_submit: '/Pic_code/Pic_code_valid.ashx', //验证地址，跨域请填写带域名的地址，默认'/Pic_code/Pic_code_valid.ashx'
            url_submit_para_extend : null,    //方法，返回提交验证时的参数扩展（json形式），默认null
                                            // return {
                                            //     handlerHost: http://www.abc.com, // 验证成功后发起后续接口请求的主机地址，有默认值，如使用默认值请不要传
                                            //     handlerPath: /Handler/abc.ashx, // 验证成功后发起后续接口请求的接口路径，有默认值，如使用默认值请不要传
                                            //     handlerType: Member, // 验证成功后发起后续接口请求的接口名，默认管理员，如使用默认值请不要传
                                            //     handlerAct: Select, // 验证成功后发起后续接口请求的方法名，默认登录，如使用默认值请不要传
                                            //     key1: value1, // 自定义键值对
                                            //     key2: value2,
                                            //     keyN: valueN
                                            // };
            z_index: 800, //设置标签z_index，默认800
            position_default: true, //验证码是否居中显示，true-居中显示，false-自定义显示位置，默认true
            Callback_error: function () { // 验证失败回调，默认为滑块和拼图小块滑回原位pic_code.doMove();
                pic_code.doMove();
            },
            Callback_error_repeatedly: function () { // 多次验证失败回调，刷新验证码重新验证，优先于Callback_error  默认事件pic_code.change_background_url();
                pic_code.change_background_url();
            },
            Callback_error_repeatedly_count: 3, // 触发多次验证失败回调的失败次数，默认3
            Callback_success: function (data) { //验证成功回调，提示验证成功，默认方法：pic_code.valid_success_callback(), data-接口返回信息
                pic_code.valid_success_callback();
            }
        };


        pic_code.init(opt);
        $('.show').click(function(){
            pic_code.open();
        })
    })
</script>
</html>